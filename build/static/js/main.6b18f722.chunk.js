(this.webpackJsonpmalujuliancrispino=this.webpackJsonpmalujuliancrispino||[]).push([[0],{37:function(e,c,t){},45:function(e,c,t){"use strict";t.r(c);var a=t(6),n=(t(37),t(33)),i=t.n(n),s=t(20),r=t(9),o=t(4),j=Object(a.createContext)(),l=j.Provider,d=function(e){var c=e.children,t=Object(a.useState)([]),n=Object(r.a)(t,2),i=n[0],j=n[1],d=Object(a.useState)(0),b=Object(r.a)(d,2),m=b[0],u=b[1],O=Object(a.useState)(0),h=Object(r.a)(O,2),x=h[0],p=h[1],f=function(e){return i.some((function(c){return c.item.id===e}))};Object(a.useEffect)((function(){if(i.length>0){var e=0;i.forEach((function(c){return e+=c.count})),p(e)}else p(0)}),[i]);var v={carrito:i,cantidad_total:x,addItem:function(e,c){if(f(e.id)){var t=i.findIndex((function(c){return c.item.id===e.id}));i[t].count=i[t].count+c,p(x+c)}else{console.log("Agregaste ".concat(e.nombre,", cantidad ").concat(c," "));var a={item:e,count:c};j([].concat(Object(s.a)(i),[a])),u(m+e.precio*c)}},removeItem:function(e){var c=i.filter((function(c){return c.item.id!==e}));j(c)},clear:function(){j([])},isInCart:f,precio_total:m};return Object(o.jsxs)(l,{value:v,children:["     ",c]})},b=t(13),m=function(){var e=Object(a.useContext)(j).cantidad_total;return 0===e?Object(o.jsx)("p",{}):Object(o.jsx)("div",{children:Object(o.jsxs)(b.b,{to:"/cart",className:"cart_widget",children:[Object(o.jsx)("span",{className:"material-icons cartIcon",children:"shopping_cart"}),Object(o.jsx)("div",{className:"cuadro_carrito",children:e})]})})},u=function(){return Object(o.jsxs)("div",{className:"menu-nav",children:[Object(o.jsx)("div",{children:Object(o.jsxs)(b.b,{to:"/",className:"titulo-logo",children:[Object(o.jsx)("h1",{className:"titulo-nav",children:"CharlyMan\xeda"}),Object(o.jsx)("img",{className:"logo",src:"/logo.png",alt:"Logo cajitas malu"})]})}),Object(o.jsx)("div",{children:Object(o.jsxs)("ul",{className:"lista",children:[Object(o.jsx)("li",{className:"item-lista",children:Object(o.jsx)(b.b,{to:"/categoria/disco",children:"DISCOS"})}),Object(o.jsx)("li",{className:"item-lista",children:Object(o.jsx)(b.b,{to:"/categoria/remera",children:"REMERAS"})}),Object(o.jsx)("li",{children:Object(o.jsx)(m,{})})]})})]})},O=function(){return Object(o.jsxs)("div",{className:"menu-nav",children:[Object(o.jsx)("div",{className:"titulo-logo",children:Object(o.jsx)("h1",{className:"titulo-nav",children:"CharlyMan\xeda"})}),Object(o.jsx)("div",{className:"copy",children:"Copyright - Charly 2021"}),Object(o.jsx)("div",{children:Object(o.jsxs)("ul",{className:"lista",children:[Object(o.jsx)("li",{className:"item-lista",children:Object(o.jsx)(b.b,{to:"/categoria/disco",children:"DISCOS"})}),Object(o.jsx)("li",{className:"item-lista",children:Object(o.jsx)(b.b,{to:"/categoria/remera",children:"REMERAS"})})]})})]})},h=t(25),x=function(e){var c=e.producto;return Object(o.jsxs)("article",{className:"card",children:[Object(o.jsx)("div",{className:"imgBox",children:Object(o.jsx)("img",{src:c.portada,alt:c.nombre,className:"mouse"})}),Object(o.jsxs)("div",{className:"contentBox",children:[Object(o.jsx)("h3",{children:c.nombre}),Object(o.jsxs)("h2",{className:"price",children:["$ ",c.precio]}),Object(o.jsx)(b.b,{to:"/item/".concat(c.id),className:"buy",children:"Comprar"})]})]})},p=function(e){var c=e.productos;e.indice;return Object(o.jsx)("section",{className:"seccion-productos",children:c.map((function(e,c){return Object(o.jsx)(x,{producto:e},c)}))})},f=t(12),v=t(34),N=t(18),g=Object(v.a)({apiKey:"AIzaSyBmWbgi3Fu1_dBmKhyEykDEmp1hC2mo5jk",authDomain:"charlymania-97734.firebaseapp.com",projectId:"charlymania-97734",storageBucket:"charlymania-97734.appspot.com",messagingSenderId:"330759509194",appId:"1:330759509194:web:d4dd1ec071c1308479d033",measurementId:"G-3PM6HPEMJL"}),C=Object(N.e)(g),I=function(){var e=Object(a.useState)([]),c=Object(r.a)(e,2),t=c[0],n=c[1],i=Object(a.useState)(!0),s=Object(r.a)(i,2),j=s[0],l=s[1],d=Object(f.g)().nombreCat;return Object(a.useEffect)((function(){var e=Object(N.a)(C,"productos");if(d){var c=Object(N.g)("categoria","==",d),t=Object(N.f)(e,c);Object(N.d)(t).then((function(e){var c=e.docs.map((function(e){return Object(h.a)({id:e.id},e.data())}));n(c),l(!1)})).catch((function(e){console.log(e)}))}else{Object(N.d)(e).then((function(e){var c=e.docs.map((function(e){return Object(h.a)({id:e.id},e.data())}));n(c),l(!1)})).catch((function(e){console.log(e)}))}}),[d]),j?Object(o.jsx)("div",{className:"spinner"}):Object(o.jsx)("div",{className:"contenedor-productos",children:Object(o.jsx)(p,{productos:t})})},S=function(e){var c=e.stock,t=e.initial,n=e.onAdd,i=Object(a.useState)(t),s=Object(r.a)(i,2),j=s[0],l=s[1];return Object(o.jsxs)("div",{children:[Object(o.jsxs)("p",{className:"stock",children:["Stock:",c]}),Object(o.jsx)("div",{className:"boxCount",children:Object(o.jsxs)("div",{className:"cantidadElegida",children:[Object(o.jsx)("button",{className:"modificarContador",onClick:function(){j>t&&l(j-1)},children:"-"}),Object(o.jsxs)("p",{className:"numero-contador",children:[" ",j," "]}),Object(o.jsx)("button",{className:"modificarContador",onClick:function(){j<c&&l(j+1)},children:"+"}),Object(o.jsx)("button",{onClick:function(){console.log("cantidad confirmada: ".concat(j)),n(j)},className:"btnconfirmar",children:"Confirmar"})]})})]})},k=function(e){var c=e.producto,t=e.onAdd,a=e.agregado;return Object(o.jsxs)("div",{className:"detalle-producto",children:[Object(o.jsx)("img",{src:c.portada,alt:c.nombre,className:"img-producto"}),Object(o.jsxs)("div",{className:"info-producto",children:[Object(o.jsx)("p",{className:"nombre-producto",children:c.nombre}),"disco"===c.categoria?Object(o.jsxs)("p",{className:"a\xf1o-producto",children:["A\xf1o: ",c.a\u00f1o]}):null,Object(o.jsxs)("p",{className:"precio-producto",children:["Precio: $ ",c.precio]}),Object(o.jsxs)("p",{children:["Info: ",c.descripcion]}),a?Object(o.jsx)("button",{className:"btnconfirmar",children:Object(o.jsx)(b.b,{to:"/cart",children:"Finalizar compra"})}):Object(o.jsx)(S,{stock:c.stock,initial:1,onAdd:t})]})]})},y=function(){var e=Object(a.useState)({}),c=Object(r.a)(e,2),t=c[0],n=c[1],i=Object(a.useState)(!0),s=Object(r.a)(i,2),l=s[0],d=s[1],b=Object(a.useState)(!1),m=Object(r.a)(b,2),u=m[0],O=m[1],x=Object(f.g)().id,p=Object(a.useContext)(j).addItem;Object(a.useEffect)((function(){var e=Object(N.a)(C,"productos"),c=Object(N.b)(e,x);Object(N.c)(c).then((function(e){console.log(e.data());var c=e.data();n(Object(h.a)(Object(h.a)({},c),{},{id:x})),d(!1)})).catch((function(e){console.log(e)}))}),[x]);return l?Object(o.jsx)("div",{className:"spinner"}):Object(o.jsx)(k,{producto:t,onAdd:function(e){p(t,e),O(!0)},agregado:u})},E=function(e){var c=e.product,t=e.removeItem;return Object(o.jsx)("div",{children:Object(o.jsxs)("article",{className:"tarjeta_cart",children:[Object(o.jsx)("img",{className:"img_cart",src:c.item.portada,alt:c.item.nombre}),Object(o.jsx)("h3",{children:c.item.nombre}),Object(o.jsxs)("p",{children:["Unidades: ",c.count]}),Object(o.jsxs)("p",{children:["Precio unitarios: $",c.item.precio]}),Object(o.jsx)("button",{className:"eliminar_item",onClick:function(){return t(c.item.id)},children:"Eliminar item"})]})})},_=function(){var e=Object(a.useContext)(j),c=e.carrito,t=e.removeItem,n=e.clear,i=e.precio_total;return 0===c.length?Object(o.jsxs)("div",{className:"carritoVacio",children:[Object(o.jsx)("p",{children:"No hay productos para mostrar."}),Object(o.jsx)(b.b,{to:"/",children:"\xa1Click aqu\xed para empezar a comprar!"})]}):Object(o.jsxs)("div",{className:"carritoLleno",children:[c.map((function(e){return Object(o.jsx)(E,{product:e,removeItem:t},e.item.id)})),Object(o.jsx)("div",{className:"precio_total",children:Object(o.jsxs)("p",{children:["Total: $ ",i]})}),Object(o.jsx)("button",{className:"btn_finalizar",children:"Finalizar compra"}),Object(o.jsx)("button",{className:"btn_vaciar",onClick:n,children:"Vaciar carrito"})]})},A=function(){return Object(o.jsx)("main",{children:Object(o.jsxs)(f.c,{children:[Object(o.jsx)(f.a,{path:"/",element:Object(o.jsx)(I,{})}),Object(o.jsx)(f.a,{path:"/categoria/:nombreCat",element:Object(o.jsx)(I,{})}),Object(o.jsx)(f.a,{path:"/item/:id",element:Object(o.jsx)(y,{})}),Object(o.jsx)(f.a,{path:"/cart",element:Object(o.jsx)(_,{})})]})})};var B=function(){return Object(o.jsxs)(d,{children:["   ",Object(o.jsxs)(b.a,{children:[Object(o.jsx)(u,{}),Object(o.jsx)(A,{}),Object(o.jsx)(O,{})]})]})};t(44);i.a.render(Object(o.jsx)(B,{}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.6b18f722.chunk.js.map