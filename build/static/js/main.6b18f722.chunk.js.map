{"version":3,"sources":["components/CartContext.js","components/CartWidget.js","components/NavBar.js","components/Footer.js","components/Item.js","components/ItemList.js","firebase.js","components/ItemListContainer.js","components/ItemCount.js","components/ItemDetail.js","components/ItemDetailContainer.js","components/CartItem.js","components/Cart.js","components/Main.js","App.js","index.js"],"names":["CartContext","createContext","Provider","CartProvider","children","useState","carrito","setCarrito","precio_total","setPrecio_total","cantidad_total","setCantidad_total","isInCart","id","some","element","item","useEffect","length","cantidad","forEach","count","valorDelContexto","addItem","prod","indexActualizar","findIndex","console","log","nombre","nuevoCarrito","precio","removeItem","carritoActualizado","filter","clear","value","CartWidget","useContext","to","className","NavBar","src","alt","Footer","Item","producto","portada","ItemList","productos","indice","map","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","getFirestore","ItemListContainer","setProductos","loading","setLoading","nombreCat","useParams","coleccionProductos","collection","filtro","where","consulta","query","getDocs","then","resultado","docs_formateado","docs","doc","data","catch","error","ItemCount","stock","initial","onAdd","contador","setContador","onClick","ItemDetail","agregado","categoria","año","descripcion","ItemDetailContainer","setProducto","setAgregado","docRef","getDoc","CartItem","product","Cart","Main","path","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6b18f722.chunk.js","sourcesContent":["import { createContext, useEffect } from 'react';\r\nimport { useState } from 'react';\r\n\r\n\r\nexport const CartContext = createContext(/*{      Nombre del contexto. Importante exportarlo, ya que lo uso fuera de este componente\r\n    carrito : [],\r\n    precio_total : 0,\r\n    cantidad_total : 0\r\n}*/)\r\n\r\n//Patron Provider\r\nconst { Provider } = CartContext      //Destructuring. Podria obviarlo y usar CartCotext.Provider\r\n\r\nconst CartProvider = ({ children }) => {        //PROOVEDOR DEL CONTEXTO!  -  children es una prop por defecto. Es todo lo que tengo dentro del commponente\r\n\r\n    const [carrito, setCarrito] = useState([])\r\n    const [precio_total, setPrecio_total] = useState(0)\r\n    const [cantidad_total, setCantidad_total] = useState(0)\r\n\r\n\r\n\r\n    const addItem = (prod, count) => {\r\n        if (isInCart(prod.id)) {\r\n            const indexActualizar = carrito.findIndex(element => element.item.id === prod.id)\r\n            carrito[indexActualizar].count = carrito[indexActualizar].count + count\r\n            setCantidad_total(cantidad_total + count)\r\n\r\n\r\n        } else {\r\n            console.log(`Agregaste ${prod.nombre}, cantidad ${count} `);\r\n            const nuevoCarrito = {\r\n                item: prod,\r\n                count: count\r\n            }\r\n            setCarrito([...carrito, nuevoCarrito])\r\n            setPrecio_total(precio_total + (prod.precio * count))\r\n        }\r\n    }\r\n\r\n    const removeItem = (id) => {\r\n        const carritoActualizado = carrito.filter(element => element.item.id !== id)\r\n        setCarrito(carritoActualizado)\r\n    }\r\n\r\n    const clear = () => {\r\n        setCarrito([])\r\n    }\r\n\r\n    const isInCart = (id) => {\r\n        return carrito.some(element => element.item.id === id)\r\n        //return true : false\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(carrito.length > 0){\r\n            let cantidad = 0\r\n            carrito.forEach(item => cantidad = cantidad + item.count)\r\n            setCantidad_total(cantidad)\r\n        }else{\r\n            setCantidad_total(0)\r\n        }\r\n\r\n    },[carrito])\r\n\r\n\r\n\r\n    const valorDelContexto = { carrito, cantidad_total, addItem, removeItem, clear, isInCart, precio_total /* Todo lo que paso como prop */ }\r\n\r\n    return (\r\n        <Provider value={valorDelContexto}>     {/*Lo que pase como prop, se puede utilizar en todos los \"children\"*/}\r\n            {children}\r\n        </Provider>\r\n    )\r\n}\r\n\r\nexport default CartProvider","import { useContext } from \"react\"\r\nimport { CartContext } from \"./CartContext\"\r\nimport { Link } from \"react-router-dom\"\r\n\r\nconst CartWidget = () => {\r\n\r\n    const { cantidad_total } = useContext(CartContext)\r\n\r\n    if (cantidad_total === 0) {\r\n        return (<p></p>)\r\n\r\n    } else {\r\n        return (\r\n            <div>\r\n                <Link to=\"/cart\" className=\"cart_widget\">\r\n                    <span className=\"material-icons cartIcon\">\r\n                        shopping_cart\r\n                    </span>\r\n                    <div className=\"cuadro_carrito\">\r\n                    {cantidad_total}\r\n                    </div>\r\n                </Link>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default CartWidget\r\n","import CartWidget from './CartWidget'\r\nimport {Link} from 'react-router-dom'\r\n\r\n\r\nconst NavBar = () => {\r\n    return (\r\n        <div className=\"menu-nav\">\r\n            <div >\r\n                <Link to=\"/\" className='titulo-logo'>\r\n                    <h1 className=\"titulo-nav\">CharlyManía</h1>\r\n                    <img className=\"logo\" src=\"/logo.png\" alt=\"Logo cajitas malu\" />\r\n                </Link>\r\n            </div>\r\n            <div>\r\n                <ul className=\"lista\">\r\n                    <li className=\"item-lista\"><Link to=\"/categoria/disco\">DISCOS</Link></li>\r\n                    <li className=\"item-lista\"><Link to=\"/categoria/remera\">REMERAS</Link></li>\r\n                    <li><CartWidget /></li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default NavBar","import { Link } from \"react-router-dom\"\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <div className=\"menu-nav\">\r\n            <div className='titulo-logo'>\r\n                <h1 className=\"titulo-nav\">CharlyManía</h1>\r\n            </div>\r\n            <div className=\"copy\">Copyright - Charly 2021</div>\r\n            <div>\r\n                <ul className=\"lista\">\r\n                    <li className=\"item-lista\"><Link to=\"/categoria/disco\">DISCOS</Link></li>\r\n                    <li className=\"item-lista\"><Link to=\"/categoria/remera\">REMERAS</Link></li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Footer\r\n","import { Link } from \"react-router-dom\"\r\n\r\nconst Item = ({ producto }) => {\r\n    return (\r\n        // <article className=\"tarjeta-producto\">\r\n        //     <h2>{producto.nombre}</h2>\r\n        //     <img src={producto.portada} alt={producto.nombre} className=\"img-producto\" />\r\n        //     <p className=\"precio-producto\">Precio: ${producto.precio}</p>\r\n        //     <Link to={`/item/${producto.id}`} className=\"caja-link\">\r\n        //         <div className=\"link-ver-mas\">Ver mas</div>\r\n        //     </Link>\r\n\r\n        // </article>\r\n\r\n        <article className=\"card\">\r\n            <div className=\"imgBox\">\r\n                <img src={producto.portada} alt={producto.nombre} className=\"mouse\" />\r\n            </div>\r\n\r\n            <div className=\"contentBox\">\r\n                <h3>{producto.nombre}</h3>\r\n                <h2 className=\"price\">$ {producto.precio}</h2>\r\n                <Link to={`/item/${producto.id}`} className=\"buy\">Comprar</Link>\r\n            </div>\r\n        </article>\r\n\r\n    )\r\n}\r\n\r\nexport default Item\r\n","import Item from \"./Item\"\r\n\r\nconst ItemList = ({ productos, indice }) => {\r\n\r\n\r\n    return (\r\n        <section className=\"seccion-productos\">\r\n            {productos.map((producto, indice) => {\r\n                return <Item producto={producto} key={indice} />\r\n            })}\r\n        </section>\r\n    )\r\n\r\n}\r\n\r\n\r\n\r\nexport default ItemList\r\n","import { initializeApp } from \"firebase/app\";\r\nimport { getFirestore } from \"firebase/firestore\"\r\n\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyBmWbgi3Fu1_dBmKhyEykDEmp1hC2mo5jk\",\r\n    authDomain: \"charlymania-97734.firebaseapp.com\",\r\n    projectId: \"charlymania-97734\",\r\n    storageBucket: \"charlymania-97734.appspot.com\",\r\n    messagingSenderId: \"330759509194\",\r\n    appId: \"1:330759509194:web:d4dd1ec071c1308479d033\",\r\n    measurementId: \"G-3PM6HPEMJL\"\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);      //Acceso a la consola de firebase\r\nexport const db = getFirestore(app)             //Acceso a toda la base de datos de firestore\r\n\r\n","import ItemList from \"./ItemList\"\r\nimport { useEffect, useState } from \"react\"\r\nimport { useParams } from \"react-router-dom\"\r\nimport { db } from \"../firebase\"\r\nimport { collection, getDoc, getDocs, query, where } from \"firebase/firestore\"\r\n\r\n\r\n// const items = [\r\n//     { id: 1, nombre: \"Yendo de la cama al living\", año: 1982, portada: \"/img/yendo de la cama al living.jpg\", precio: 800, stock: 25, descripcion: \"Primer disco de estudio del artista Charly Garcia.\", categoria: \"disco\" },\r\n//     { id: 2, nombre: \"Clics modernos\", año: 1983, portada: \"/img/clics modernos.jpg\", precio: 1000, stock: 31, descripcion: \"Segundo disco de estudio del artista Charly Garcia.\", categoria: \"disco\" },\r\n//     { id: 3, nombre: \"Piano bar\", año: 1984, portada: \"/img/piano bar.jpg\", precio: 700, stock: 16, descripcion: \"Tercer disco de estudio del artista Charly Garcia.\", categoria: \"disco\" },\r\n//     { id: 4, nombre: \"Parte de la religion\", año: 1987, portada: \"/img/parte de la religion.jpg\", precio: 650, stock: 13, descripcion: \"Cuarto disco de estudio del artista Charly Garcia.\", categoria: \"disco\" },\r\n//     { id: 5, nombre: \"Como conseguir chicas\", año: 1989, portada: \"/img/como conseguir chicas.jpg\", precio: 700, stock: 33, descripcion: \"Quinto disco de estudio del artista Charly Garcia.\", categoria: \"disco\" },\r\n//     { id: 6, nombre: \"Remera negra SNM\", portada: \"/img/remera.png\", precio: 300, stock: 13, descripcion: \"Remera negra sublimada, alta calidad.\", categoria: \"remera\" },\r\n//     { id: 7, nombre: \"Remera negra rostro dibujo\", portada: \"/img/remera2.png\", precio: 350, stock: 11, descripcion: \"Remera negra sublimada, alta calidad.\", categoria: \"remera\" },\r\n//     { id: 8, nombre: \"Remera negra SNM poco contraste\", portada: \"/img/remera3.png\", precio: 290, stock: 24, descripcion: \"Remera negra sublimada, alta calidad.\", categoria: \"remera\" },\r\n//     { id: 9, nombre: \"Remera blanca rostro animado\", portada: \"/img/remera4.png\", precio: 310, stock: 16, descripcion: \"Remera blanca sublimada, alta calidad.\", categoria: \"remera\" },\r\n//     { id: 10, nombre: \"Remera negra charly dibujo\", portada: \"/img/remera5.png\", precio: 300, stock: 8, descripcion: \"Remera negra sublimada, alta calidad.\", categoria: \"remera\" },\r\n\r\n// ]\r\n\r\n\r\n\r\nconst ItemListContainer = () => {\r\n\r\n    const [productos, setProductos] = useState([])\r\n    const [loading, setLoading] = useState(true)\r\n    const { nombreCat } = useParams()\r\n\r\n\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        const coleccionProductos = collection(db, \"productos\") //El segundo parametro es el nombre de la coleccion, como string.\r\n\r\n        if (nombreCat) {\r\n            const filtro = where(\"categoria\", \"==\", nombreCat)  //Establezco una comparacion entre un campo deseado y un valor. Ideal para filtrar\r\n            const consulta = query(coleccionProductos, filtro)\r\n            const pedido = getDocs(consulta)\r\n            pedido\r\n            .then((resultado) => {\r\n                const docs = resultado.docs     //Ahora si puedo hacer un map. NO en \"resultado\", si en \"resultado.docs\", que es el array\r\n                const docs_formateado = docs.map(doc => {\r\n                    const producto = {\r\n                        id: doc.id,     //Agrego el ID que me da Firebase por defecto, para poder filtrar luego con getDoc\r\n                        ...doc.data()\r\n                    }\r\n\r\n                    return producto\r\n                })\r\n                setProductos(docs_formateado)        //Aca tengo mis productos! (desde la base de datos propia)\r\n                setLoading(false)\r\n            })\r\n\r\n            .catch((error) => {\r\n                console.log(error)\r\n            })\r\n        } else {\r\n            const pedido = getDocs(coleccionProductos)  //Un truco de firebase -> La coleccion es una instancia de la clase Query, es tomada como query.\r\n            //getDocs (y getDoc) me devuelve siempre una PROMESA.\r\n            pedido\r\n                .then((resultado) => {\r\n                    const docs = resultado.docs     //Ahora si puedo hacer un map. NO en \"resultado\", si en \"resultado.docs\", que es el array\r\n                    const docs_formateado = docs.map(doc => {\r\n                        const producto = {\r\n                            id: doc.id,     //Agrego el ID que me da Firebase por defecto, para poder filtrar luego con getDoc\r\n                            ...doc.data()\r\n                        }\r\n    \r\n                        return producto\r\n                    })\r\n                    setProductos(docs_formateado)        //Aca tengo mis productos! (desde la base de datos propia)\r\n                    setLoading(false)\r\n                })\r\n    \r\n                .catch((error) => {\r\n                    console.log(error)\r\n                })\r\n        }\r\n\r\n        // const promesa = new Promise((res, rej) => {\r\n        //     setTimeout(() => {\r\n        //         res(items)\r\n        //     }, 2000)\r\n        // })\r\n\r\n        // if (nombreCat) {\r\n        //     // console.log(\"aca pediria productos de la categoria\" + id);\r\n        //     promesa.then((productos) => {\r\n        //         setLoading(false)\r\n        //         setProductos(productos.filter(idx => idx.categoria === nombreCat))\r\n        //     })\r\n\r\n\r\n        // } else {\r\n        //     // console.log(\"aca todos los productos\");\r\n        //     promesa.then((productos) => {\r\n        //         setLoading(false)\r\n        //         setProductos(productos)\r\n        //     })\r\n        // }\r\n\r\n    }, [nombreCat])\r\n\r\n\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className='spinner'></div>\r\n        )\r\n    } else {\r\n        return (\r\n            <div className=\"contenedor-productos\">\r\n                <ItemList productos={productos} />\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default ItemListContainer\r\n","import { useState } from \"react\"\r\n\r\nconst ItemCount = ({ stock, initial, onAdd }) => {\r\n\r\n    const [contador, setContador] = useState(initial)\r\n\r\n    const disminuirContador = () => {\r\n        if (contador > initial) {\r\n            setContador(contador - 1)\r\n        }\r\n    }\r\n\r\n\r\n    const aumentarContador = () => {\r\n        if (contador < stock) {\r\n            setContador(contador + 1)\r\n        }\r\n    }\r\n\r\n\r\n    const confirmarCantidad = () => {\r\n        console.log(`cantidad confirmada: ${contador}`);\r\n        onAdd(contador)\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n\r\n            <p className=\"stock\">Stock:{stock}</p>\r\n            <div className=\"boxCount\">\r\n                <div className=\"cantidadElegida\">\r\n                    <button className=\"modificarContador\" onClick={disminuirContador}>-</button>\r\n                    <p className=\"numero-contador\"> {contador} </p>\r\n                    <button className=\"modificarContador\" onClick={aumentarContador}>+</button>\r\n                <button onClick={confirmarCantidad} className=\"btnconfirmar\">Confirmar</button>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ItemCount\r\n","\r\nimport { Link } from \"react-router-dom\"\r\nimport ItemCount from \"./ItemCount\"\r\n\r\nconst ItemDetail = ({producto, onAdd, agregado}) => {\r\n\r\n\r\n    return (\r\n        <div className=\"detalle-producto\">\r\n            <img src={producto.portada} alt={producto.nombre} className=\"img-producto\" />\r\n            <div className=\"info-producto\">\r\n                <p className=\"nombre-producto\">{producto.nombre}</p>\r\n                {producto.categoria === \"disco\" ? <p className=\"año-producto\">Año: {producto.año}</p> : null}\r\n                <p className=\"precio-producto\">Precio: $ {producto.precio}</p>\r\n                <p>Info: {producto.descripcion}</p>\r\n                {agregado ? <button className=\"btnconfirmar\"><Link to=\"/cart\">Finalizar compra</Link></button> : <ItemCount stock={producto.stock} initial={1} onAdd={onAdd}/>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default ItemDetail\r\n","import ItemDetail from \"./ItemDetail\"\r\nimport { useEffect, useState, useContext } from \"react\"\r\nimport { useParams } from \"react-router-dom\"\r\nimport { CartContext } from \"./CartContext\"\r\nimport { collection, getDoc, doc } from \"firebase/firestore\"\r\nimport { db } from \"../firebase\"\r\n\r\n// const items = [\r\n//     { id: 1, nombre: \"Yendo de la cama al living\", año: 1982, portada: \"/img/yendo de la cama al living.jpg\", precio: 800, stock: 25, descripcion: \"Primer disco de estudio del artista Charly Garcia.\", categoria : \"disco\" },\r\n//     { id: 2, nombre: \"Clics modernos\", año: 1983, portada: \"/img/clics modernos.jpg\", precio: 1000, stock: 31, descripcion: \"Segundo disco de estudio del artista Charly Garcia.\", categoria : \"disco\" },\r\n//     { id: 3, nombre: \"Piano bar\", año: 1984, portada: \"/img/piano bar.jpg\", precio: 700, stock: 16, descripcion: \"Tercer disco de estudio del artista Charly Garcia.\", categoria : \"disco\" },\r\n//     { id: 4, nombre: \"Parte de la religion\", año: 1987, portada: \"/img/parte de la religion.jpg\", precio: 650, stock: 13, descripcion: \"Cuarto disco de estudio del artista Charly Garcia.\", categoria : \"disco\" },\r\n//     { id: 5, nombre: \"Como conseguir chicas\", año: 1989, portada: \"/img/como conseguir chicas.jpg\", precio: 700, stock: 33, descripcion: \"Quinto disco de estudio del artista Charly Garcia.\", categoria : \"disco\" },\r\n//     { id: 6, nombre: \"Remera negra SNM\", portada: \"/img/remera.png\", precio: 300, stock: 13, descripcion: \"Remera negra sublimada, alta calidad.\", categoria : \"remera\" },\r\n//     { id: 7, nombre: \"Remera negra rostro dibujo\", portada: \"/img/remera2.png\", precio: 350, stock: 11, descripcion: \"Remera negra sublimada, alta calidad.\", categoria : \"remera\" },\r\n//     { id: 8, nombre: \"Remera negra SNM poco contraste\", portada: \"/img/remera3.png\", precio: 290, stock: 24, descripcion: \"Remera negra sublimada, alta calidad.\", categoria : \"remera\" },\r\n//     { id: 9, nombre: \"Remera blanca rostro animado\", portada: \"/img/remera4.png\", precio: 310, stock: 16, descripcion: \"Remera blanca sublimada, alta calidad.\", categoria : \"remera\" },\r\n//     { id: 10, nombre: \"Remera negra charly dibujo\", portada: \"/img/remera5.png\", precio: 300, stock: 8, descripcion: \"Remera negra sublimada, alta calidad.\", categoria : \"remera\" },\r\n// ]\r\n\r\nconst ItemDetailContainer = () => {\r\n\r\n\r\n    const [producto, setProducto] = useState({})\r\n    const [loading, setLoading] = useState(true)\r\n    const [agregado, setAgregado] = useState(false)\r\n\r\n    const { id } = useParams()      //Retorna la variable  que coloco como parametro en el link.\r\n\r\n    const { addItem } = useContext(CartContext)\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        const coleccionProductos = collection(db, \"productos\") //El segundo parametro es el nombre de la coleccion, como string.\r\n        const docRef = doc(coleccionProductos, id) //Este id es el generado por firebase automaticamente, xq yo lo puse en el main\r\n        const pedido = getDoc(docRef)\r\n\r\n        pedido\r\n            .then((resultado) => {\r\n                console.log(resultado.data());\r\n                const producto = resultado.data()\r\n                setProducto({...producto, id})\r\n                setLoading(false)\r\n                \r\n            })\r\n\r\n            .catch((error) =>{\r\n                console.log(error);\r\n            })\r\n\r\n    }, [id])\r\n\r\n    const onAdd = (contador) => {\r\n        addItem(producto, contador)\r\n        setAgregado(true)\r\n    }\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className='spinner'></div>\r\n        )\r\n    } else {\r\n        return (\r\n            <ItemDetail producto={producto} onAdd={onAdd} agregado={agregado} />\r\n        )\r\n    }\r\n}\r\n\r\nexport default ItemDetailContainer\r\n","\r\n\r\nconst CartItem = ({product, removeItem}) => {\r\n    return (\r\n        <div>\r\n            <article className=\"tarjeta_cart\">\r\n                <img className=\"img_cart\" src={product.item.portada} alt={product.item.nombre} />\r\n                <h3>{product.item.nombre}</h3>\r\n                <p>Unidades: {product.count}</p>\r\n                <p>Precio unitarios: ${product.item.precio}</p>\r\n                <button className=\"eliminar_item\" onClick={() => removeItem(product.item.id)}>Eliminar item</button>\r\n            </article>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default CartItem\r\n","import { CartContext } from \"./CartContext\"\r\nimport { useContext } from \"react\"\r\nimport CartItem from \"./CartItem\"\r\nimport { Link } from \"react-router-dom\"\r\n\r\n\r\n\r\nconst Cart = () => {\r\n\r\n    const { carrito, removeItem, clear, precio_total } = useContext(CartContext)\r\n\r\n\r\n    if (carrito.length === 0) {\r\n        return (\r\n            <div className=\"carritoVacio\">\r\n                <p>No hay productos para mostrar.</p>\r\n                <Link to=\"/\">¡Click aquí para empezar a comprar!</Link>\r\n            </div>\r\n        )\r\n    } else {\r\n        return (\r\n            <div className=\"carritoLleno\">\r\n                {carrito.map(prod => <CartItem key={prod.item.id} product={prod} removeItem={removeItem} />)}\r\n                <div className=\"precio_total\">\r\n                    <p>Total: $ { precio_total }</p>\r\n                </div>\r\n                    \r\n                <button className=\"btn_finalizar\" >Finalizar compra</button>\r\n                <button className=\"btn_vaciar\" onClick={clear}>Vaciar carrito</button>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Cart\r\n","import ItemListContainer from './ItemListContainer';\r\nimport ItemDetailContainer from './ItemDetailContainer';\r\nimport Cart from './Cart'\r\nimport { Routes, Route } from 'react-router-dom';\r\n\r\n/**\r\n * /\r\n * \r\n * /item/?\r\n * /categoria/?\r\n * /carrito\r\n * \r\n */\r\n\r\n\r\nconst Main = () => {\r\n    return (\r\n        <main>\r\n            <Routes>\r\n                <Route path=\"/\" element={<ItemListContainer />} />\r\n                <Route path=\"/categoria/:nombreCat\" element={<ItemListContainer />} />\r\n                <Route path=\"/item/:id\" element={<ItemDetailContainer/>}/>\r\n                <Route path=\"/cart\" element={<Cart/>}/>\r\n            </Routes>\r\n            \r\n        </main>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default Main\r\n","import NavBar from './components/NavBar'\r\nimport Footer from './components/Footer.js';\r\nimport Main from './components/Main';\r\nimport { BrowserRouter } from \"react-router-dom\"\r\nimport CartProvider from './components/CartContext';\r\n\r\n\r\nfunction App() {\r\n  return (\r\n    <CartProvider>   {/* al cerrar el CustomComponent abajo, todo lo q esta adentro es pasado como PROP, de nombre children*/}\r\n      <BrowserRouter>\r\n        <NavBar />\r\n        <Main />\r\n        <Footer />\r\n      </BrowserRouter>\r\n    </CartProvider>\r\n\r\n  )\r\n}\r\n\r\nexport default App;\r\n","\r\n// 1) Tener a React en scope\r\nimport React from 'react'\r\nimport \"./Index.css\"\r\n\r\n// 2) Tener a ReactDOM en scope\r\nimport ReactDOM from 'react-dom'\r\n\r\n\r\n// 3) Tener al menos un componente\r\nimport App from \"./App\"\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\n// 4) \r\nReactDOM.render(<App/> , document.getElementById('root'))"],"sourceRoot":""}