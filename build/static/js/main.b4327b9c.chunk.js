(this.webpackJsonpcharlymania=this.webpackJsonpcharlymania||[]).push([[0],{41:function(e,t,c){},59:function(e,t,c){"use strict";c.r(t);var a=c(6),r=(c(41),c(37)),n=c.n(r),i=c(21),s=c(11),o=c(20),j=c.n(o),l=c(3),d=Object(a.createContext)(),b=d.Provider,u=function(e){var t=e.children,c=Object(a.useState)([]),r=Object(s.a)(c,2),n=r[0],o=r[1],d=Object(a.useState)(0),u=Object(s.a)(d,2),m=u[0],O=u[1],h=function(e){return n.some((function(t){return t.item.id===e}))};Object(a.useEffect)((function(){if(n.length>0){var e=0;n.forEach((function(t){return e+=t.count})),O(e)}else O(0)}),[n]);var x={carrito:n,cantidad_total:m,addItem:function(e,t){if(h(e.id)){var c=n.findIndex((function(t){return t.item.id===e.id}));n[c].count=n[c].count+t,O(m+t),j.a.fire("Agregaste ".concat(e.nombre," al carrito, cantidad: ").concat(t,"."))}else{j.a.fire("Agregaste ".concat(e.nombre," al carrito, cantidad: ").concat(t,"."));var a={item:e,count:t};o([].concat(Object(i.a)(n),[a]))}},removeItem:function(e){var t=n.filter((function(t){return t.item.id!==e}));o(t)},clear:function(){o([])},isInCart:h,precioTotal:function(){return n.reduce((function(e,t){return e+t.item.precio*t.count}),0)}};return Object(l.jsx)(b,{value:x,children:t})},m=c(13),O=function(){var e=Object(a.useContext)(d).cantidad_total;return 0===e?null:Object(l.jsx)("div",{children:Object(l.jsxs)(m.b,{to:"/cart",className:"cart_widget",children:[Object(l.jsx)("span",{className:"material-icons cartIcon",children:"shopping_cart"}),Object(l.jsx)("div",{className:"cuadro_carrito",children:e})]})})},h=function(){return Object(l.jsxs)("div",{className:"menu-nav",children:[Object(l.jsx)("div",{children:Object(l.jsxs)(m.b,{to:"/",className:"titulo-logo",children:[Object(l.jsx)("h1",{className:"titulo-nav",children:"CharlyMan\xeda"}),Object(l.jsx)("img",{className:"logo",src:"/logo.png",alt:"Logo cajitas malu"})]})}),Object(l.jsx)("div",{children:Object(l.jsxs)("ul",{className:"lista",children:[Object(l.jsx)("li",{className:"item-lista",children:Object(l.jsx)(m.b,{to:"/categoria/disco",children:"DISCOS"})}),Object(l.jsx)("li",{className:"item-lista",children:Object(l.jsx)(m.b,{to:"/categoria/remera",children:"REMERAS"})}),Object(l.jsx)("li",{children:Object(l.jsx)(O,{})})]})})]})},x=function(){return Object(l.jsxs)("footer",{className:"menu-nav",children:[Object(l.jsx)("div",{className:"titulo-logo",children:Object(l.jsx)("h1",{className:"titulo-nav",children:"CharlyMan\xeda"})}),Object(l.jsx)("div",{children:Object(l.jsxs)("ul",{className:"lista",children:[Object(l.jsx)("li",{className:"item-lista",children:Object(l.jsx)(m.b,{to:"/categoria/disco",children:"DISCOS"})}),Object(l.jsx)("li",{className:"item-lista",children:Object(l.jsx)(m.b,{to:"/categoria/remera",children:"REMERAS"})})]})}),Object(l.jsx)("div",{className:"copy",children:"Copyright - Charly 2021"})]})},p=c(26),f=function(e){var t=e.producto;return Object(l.jsxs)("article",{className:"card",children:[Object(l.jsx)("div",{className:"imgBox",children:Object(l.jsx)("img",{src:t.portada,alt:t.nombre,className:"mouse"})}),Object(l.jsxs)("div",{className:"contentBox",children:[Object(l.jsx)("h3",{children:t.nombre}),Object(l.jsxs)("h2",{className:"price",children:["$ ",t.precio]}),Object(l.jsx)(m.b,{to:"/item/".concat(t.id),className:"buy",children:"Comprar"})]})]})},v=function(e){var t=e.productos;e.indice;return Object(l.jsx)("section",{className:"seccion-productos",children:t.map((function(e,t){return Object(l.jsx)(f,{producto:e},t)}))})},N=c(12),g=c(38),C=c(16),k=Object(g.a)({apiKey:"AIzaSyBmWbgi3Fu1_dBmKhyEykDEmp1hC2mo5jk",authDomain:"charlymania-97734.firebaseapp.com",projectId:"charlymania-97734",storageBucket:"charlymania-97734.appspot.com",messagingSenderId:"330759509194",appId:"1:330759509194:web:d4dd1ec071c1308479d033",measurementId:"G-3PM6HPEMJL"}),y=Object(C.f)(k),I=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),c=t[0],r=t[1],n=Object(a.useState)(!0),i=Object(s.a)(n,2),o=i[0],d=i[1],b=Object(N.g)().nombreCat;return Object(a.useEffect)((function(){var e=Object(C.b)(y,"productos");if(b){var t=Object(C.h)("categoria","==",b),c=Object(C.g)(e,t);Object(C.e)(c).then((function(e){var t=e.docs.map((function(e){return Object(p.a)({id:e.id},e.data())}));r(t),d(!1)})).catch((function(e){return j.a.fire({icon:"error",text:"Algo salio mal"})}))}else{Object(C.e)(e).then((function(e){var t=e.docs.map((function(e){return Object(p.a)({id:e.id},e.data())}));r(t),d(!1)})).catch((function(e){return j.a.fire({icon:"error",text:"Algo salio mal"})}))}}),[b]),o?Object(l.jsx)("div",{className:"spinner"}):Object(l.jsx)("div",{className:"contenedor-productos",children:Object(l.jsx)(v,{productos:c})})},S=function(e){var t=e.stock,c=e.initial,r=e.onAdd,n=Object(a.useState)(c),i=Object(s.a)(n,2),o=i[0],j=i[1];return Object(l.jsx)("div",{children:Object(l.jsxs)("div",{className:"boxCount",children:[Object(l.jsxs)("div",{className:"cantidadElegida",children:[Object(l.jsx)("button",{className:"btnconfirmar",onClick:function(){o>c&&j(o-1)},children:"-"}),Object(l.jsxs)("p",{className:"numero-contador",children:[" ",o," "]}),Object(l.jsx)("button",{className:"btnconfirmar",onClick:function(){o<t&&j(o+1)},children:"+"}),Object(l.jsx)("button",{onClick:function(){r(o)},className:"btnconfirmar",children:"Confirmar"})]}),Object(l.jsxs)("p",{className:"stock",children:["Stock: ",t]})]})})},A=function(e){var t=e.producto,c=e.onAdd,a=e.agregado;return Object(l.jsxs)("div",{className:"detalle-producto",children:[Object(l.jsx)("img",{src:t.portada,alt:t.nombre,className:"img-producto"}),Object(l.jsxs)("div",{className:"info-producto",children:[Object(l.jsx)("p",{className:"nombre-producto",children:t.nombre}),"disco"===t.categoria?Object(l.jsxs)("p",{className:"a\xf1o-producto",children:["A\xf1o: ",t.a\u00f1o]}):null,Object(l.jsxs)("p",{className:"precio-producto",children:["Precio: $ ",t.precio]}),Object(l.jsx)("p",{className:"descripcion-producto",children:t.descripcion}),a?Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{className:"btnconfirmar",children:Object(l.jsx)(m.b,{to:"/cart",children:"Finalizar compra"})})," ",Object(l.jsx)("button",{className:"btnconfirmar",children:Object(l.jsx)(m.b,{to:"/",children:"Continuar comprando"})})]}):Object(l.jsx)(S,{stock:t.stock,initial:1,onAdd:c})]})]})},E=function(){var e=Object(a.useState)({}),t=Object(s.a)(e,2),c=t[0],r=t[1],n=Object(a.useState)(!0),i=Object(s.a)(n,2),o=i[0],b=i[1],u=Object(a.useState)(!1),m=Object(s.a)(u,2),O=m[0],h=m[1],x=Object(N.g)().id,f=Object(a.useContext)(d).addItem;Object(a.useEffect)((function(){var e=Object(C.b)(y,"productos"),t=Object(C.c)(e,x);Object(C.d)(t).then((function(e){var t=e.data();r(Object(p.a)(Object(p.a)({},t),{},{id:x})),b(!1)})).catch((function(e){return j.a.fire({icon:"error",text:"Algo salio mal"})}))}),[x]);return o?Object(l.jsx)("div",{className:"spinner"}):Object(l.jsx)(A,{producto:c,onAdd:function(e){f(c,e),h(!0)},agregado:O})},w=function(e){var t=e.product,c=e.removeItem;return Object(l.jsx)("div",{children:Object(l.jsxs)("article",{className:"tarjeta_cart",children:[Object(l.jsx)("img",{className:"img_cart",src:t.item.portada,alt:t.item.nombre}),Object(l.jsx)("h3",{children:t.item.nombre}),Object(l.jsxs)("p",{children:["Unidades: ",t.count]}),Object(l.jsxs)("p",{children:["Precio unitario: $",t.item.precio]}),Object(l.jsxs)("p",{children:["Precio total: $",t.item.precio*t.count]}),Object(l.jsx)("button",{className:"btn",onClick:function(){return c(t.item.id)},children:"x"})]})})},_=function(){var e=Object(a.useContext)(d),t=e.carrito,c=e.removeItem,r=e.clear,n=e.precioTotal;return 0===t.length?Object(l.jsxs)("div",{className:"carritoVacio",children:[Object(l.jsx)("p",{children:"No hay productos para mostrar."}),Object(l.jsx)(m.b,{to:"/",children:"\xa1Click aqu\xed para empezar a comprar!"})]}):Object(l.jsxs)("div",{className:"carritoLleno",children:[t.map((function(e){return Object(l.jsx)(w,{product:e,removeItem:c},e.item.id)})),Object(l.jsx)("div",{className:"precio_total",children:Object(l.jsxs)("p",{children:["Total: $ ",n()]})}),Object(l.jsxs)("button",{className:"cta",onClick:function(){var e=Object(C.b)(y,"ordenes"),c={usuario:{nombre:"Julian",email:"julian@gmail.com",telefono:"02234258578"},carrito:t,total:n()};Object(C.a)(e,c).then((function(e){return j.a.fire("N\xb0 de Orden:  ".concat(e.id),"\n                El total de tu compra es $".concat(c.total,".\n                \xa1Gracias por tu compra!\n                "),"success",r())})).catch((function(e){return j.a.fire({icon:"error",text:"Algo salio mal"})}))},children:[Object(l.jsx)("span",{className:"hover-underline-animation",children:" Finalizar compra "}),Object(l.jsx)("svg",{id:"arrow-horizontal",xmlns:"http://www.w3.org/2000/svg",width:"30",height:"10",viewBox:"0 0 46 16",children:Object(l.jsx)("path",{id:"Path_10","data-name":"Path 10",d:"M8,0,6.545,1.455l5.506,5.506H-30V9.039H12.052L6.545,14.545,8,16l8-8Z",transform:"translate(30)"})})]}),Object(l.jsx)("button",{className:"btn vaciar_carrito",onClick:r,children:"Vaciar carrito"}),Object(l.jsx)("div",{})]})},P=function(){return Object(l.jsx)("main",{children:Object(l.jsxs)(N.c,{children:[Object(l.jsx)(N.a,{path:"/",element:Object(l.jsx)(I,{})}),Object(l.jsx)(N.a,{path:"/categoria/:nombreCat",element:Object(l.jsx)(I,{})}),Object(l.jsx)(N.a,{path:"/item/:id",element:Object(l.jsx)(E,{})}),Object(l.jsx)(N.a,{path:"/cart",element:Object(l.jsx)(_,{})})]})})};var B=function(){return Object(l.jsx)(u,{children:Object(l.jsxs)(m.a,{children:[Object(l.jsx)(h,{}),Object(l.jsx)(P,{}),Object(l.jsx)(x,{})]})})};c(58);n.a.render(Object(l.jsx)(B,{}),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.b4327b9c.chunk.js.map